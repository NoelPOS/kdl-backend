{"openapi":"3.0.0","paths":{"/auth/register":{"post":{"operationId":"register","summary":"User registration","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/RegisterDto"}}}},"responses":{"201":{"description":"User registration successful, verification email sent.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserEntity"}}}},"400":{"description":"Invalid input data or email already exists."}},"tags":["Authentication"]}},"/auth/verify-email":{"post":{"operationId":"verifyEmail","summary":"Verify user email with a verification code","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/VerifyEmailDto"}}}},"responses":{"200":{"description":"Email verification successful."},"400":{"description":"Invalid verification code or email."}},"tags":["Authentication"]}},"/auth/login":{"post":{"operationId":"login","summary":"User login","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/LoginDto"}}}},"responses":{"200":{"description":"User login successful.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/TokenDto"}}}},"401":{"description":"Invalid credentials or email not verified."}},"tags":["Authentication"]}},"/auth/forgot-password":{"post":{"operationId":"forgotPassword","summary":"Request password reset","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ForgotPasswordDto"}}}},"responses":{"200":{"description":"Password reset email sent successfully."},"404":{"description":"Email address not found."}},"tags":["Authentication"]}},"/auth/reset-password":{"post":{"operationId":"resetPassword","summary":"Reset user password with a verification code","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ResetPasswordDto"}}}},"responses":{"200":{"description":"Password reset successful."},"400":{"description":"Invalid reset token or password."}},"tags":["Authentication"]}},"/auth/refresh":{"post":{"operationId":"refreshTokens","summary":"Refresh access token","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/RefreshTokenDto"}}}},"responses":{"200":{"description":"Tokens refreshed successfully.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/TokenDto"}}}},"401":{"description":"Invalid refresh token."}},"tags":["Authentication"]}},"/auth/logout":{"post":{"operationId":"logout","summary":"Logout user","parameters":[],"responses":{"200":{"description":"User logged out successfully."},"401":{"description":"Unauthorized."}},"tags":["Authentication"],"security":[{"JWT-auth":[]}]}},"/users/health":{"get":{"operationId":"healthCheck","summary":"Check if the user service is healthy","parameters":[],"responses":{"200":{"description":"User service is healthy"}},"tags":["Health Check"]}},"/users/students":{"post":{"operationId":"createStudent","summary":"Create a new student","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateStudentDto"}}}},"responses":{"201":{"description":"Student has been successfully created","content":{"application/json":{"schema":{"$ref":"#/components/schemas/StudentEntity"}}}},"400":{"description":"Bad Request."}},"tags":["Students"]},"get":{"operationId":"findAllStudents","summary":"Get all students with pagination","parameters":[{"name":"query","required":false,"in":"query","description":"Search query","schema":{"type":"string"}},{"name":"active","required":false,"in":"query","description":"Filter by active status","schema":{"type":"string"}},{"name":"course","required":false,"in":"query","description":"Filter by course","schema":{"type":"string"}},{"name":"page","required":false,"in":"query","description":"Page number (default: 1)","schema":{"type":"number"}},{"name":"limit","required":false,"in":"query","description":"Items per page (default: 10)","schema":{"type":"number"}}],"responses":{"200":{"description":"Returns paginated students","content":{"application/json":{"schema":{"type":"object","properties":{"students":{"type":"array","items":{"$ref":"#/components/schemas/StudentEntity"}},"pagination":{"type":"object","properties":{"currentPage":{"type":"number"},"totalPages":{"type":"number"},"totalCount":{"type":"number"},"hasNext":{"type":"boolean"},"hasPrev":{"type":"boolean"}}}}}}}}},"tags":["Students"]}},"/users/students/search":{"get":{"operationId":"findStudentsBySearch","summary":"Search students by name","parameters":[{"name":"name","required":false,"in":"query","description":"Search query for student name","schema":{"type":"string"}}],"responses":{"200":{"description":"Returns students that match the search query","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/StudentEntity"}}}}}},"tags":["Students"]}},"/users/students/{id}":{"get":{"operationId":"findStudentById","summary":"Get a student by ID","parameters":[{"name":"id","required":true,"in":"path","description":"Student ID","schema":{"type":"string"}}],"responses":{"200":{"description":"Returns the student object","content":{"application/json":{"schema":{"$ref":"#/components/schemas/StudentEntity"}}}},"404":{"description":"Student not found"}},"tags":["Students"]},"put":{"operationId":"updateStudentById","summary":"Update a student by ID","parameters":[{"name":"id","required":true,"in":"path","description":"Student ID","schema":{"type":"number"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateStudentDto"}}}},"responses":{"200":{"description":"Student has been successfully updated","content":{"application/json":{"schema":{"$ref":"#/components/schemas/StudentEntity"}}}},"400":{"description":"Bad Request"},"404":{"description":"Student not found"}},"tags":["Students"]}},"/users/teachers":{"post":{"operationId":"createTeacher","summary":"Create a new teacher","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateTeacherDto"}}}},"responses":{"201":{"description":"Teacher has been successfully created","content":{"application/json":{"schema":{"$ref":"#/components/schemas/TeacherEntity"}}}},"400":{"description":"Bad Request"}},"tags":["Teachers"]},"get":{"operationId":"findAllTeachers","summary":"Get all teachers with pagination and filtering","parameters":[{"name":"query","required":false,"in":"query","description":"Search query for teacher name","schema":{"type":"string"}},{"name":"status","required":false,"in":"query","description":"Filter by status (active/inactive)","schema":{"type":"string"}},{"name":"course","required":false,"in":"query","description":"Filter by course name","schema":{"type":"string"}},{"name":"page","required":false,"in":"query","description":"Page number (default: 1)","schema":{"type":"number"}},{"name":"limit","required":false,"in":"query","description":"Items per page (default: 10)","schema":{"type":"number"}}],"responses":{"200":{"description":"Returns paginated teachers with filtering","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PaginatedTeacherResponseDto"}}}}},"tags":["Teachers"]}},"/users/teachers/name/{name}":{"get":{"operationId":"getTeacherByName","summary":"Get teacher by name","parameters":[{"name":"name","required":true,"in":"path","description":"Teacher name","schema":{"type":"string"}}],"responses":{"200":{"description":"Teacher found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/TeacherEntity"}}}},"404":{"description":"Teacher not found"}},"tags":["Teachers"]}},"/users/teachers/{teacherId}/courses":{"get":{"operationId":"getCoursesByTeacher","summary":"Get all courses assigned to a teacher","parameters":[{"name":"teacherId","required":true,"in":"path","description":"ID of the teacher","schema":{"type":"number"}}],"responses":{"200":{"description":"List of courses assigned to the teacher","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/CourseEntity"}}}}}},"tags":["Teachers"]},"post":{"operationId":"assignCoursesToTeacher","summary":"Assign courses to a teacher","parameters":[{"name":"teacherId","required":true,"in":"path","description":"ID of the teacher","schema":{"type":"number"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/AssignCoursesToTeacherDto"}}}},"responses":{"201":{"description":"Courses successfully assigned","content":{"application/json":{"schema":{"$ref":"#/components/schemas/TeacherEntity"}}}}},"tags":["Teachers"]}},"/users/teachers/course/{courseId}":{"get":{"operationId":"getTeachersByCourse","summary":"Get all teachers assigned to a course","parameters":[{"name":"courseId","required":true,"in":"path","description":"ID of the course","schema":{"type":"number"}}],"responses":{"200":{"description":"List of teachers assigned to the course","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/TeacherEntity"}}}}}},"tags":["Teachers"]}},"/users/teachers/search":{"get":{"operationId":"searchTeachersByName","summary":"Search teachers by name","parameters":[{"name":"name","required":true,"in":"query","description":"Search query for teacher name","schema":{"type":"string"}}],"responses":{"200":{"description":"Returns teachers that match the search query","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/TeacherEntity"}}}}}},"tags":["Teachers"]}},"/users/parents":{"get":{"operationId":"findAllParents","summary":"Get all parents","parameters":[],"responses":{"200":{"description":"Returns all parents","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/ParentEntity"}}}}}},"tags":["Parents"]},"post":{"operationId":"createParent","summary":"Create a new parent","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateParentDto"}}}},"responses":{"201":{"description":"Parent has been successfully created","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ParentEntity"}}}},"400":{"description":"Bad Request"}},"tags":["Parents"]}},"/users/parents/search":{"get":{"operationId":"searchParentsByName","summary":"Search parents by name with pagination and child filtering","parameters":[{"name":"query","required":true,"in":"query","schema":{"type":"string"}},{"name":"child","required":false,"in":"query","description":"Filter by child name","schema":{"type":"string"}},{"name":"address","required":false,"in":"query","description":"Filter by parent address","schema":{"type":"string"}},{"name":"page","required":false,"in":"query","description":"Page number (default: 1)","schema":{"type":"number"}},{"name":"limit","required":false,"in":"query","description":"Items per page (default: 10)","schema":{"type":"number"}},{"name":"name","required":false,"in":"query","description":"Search query for parent name","schema":{}}],"responses":{"200":{"description":"Returns parents that match the search query with pagination","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PaginatedParentResponseDto"}}}}},"tags":["Parents"]}},"/users/parents/{parentId}/children":{"post":{"operationId":"assignChildrenToParent","summary":"Assign children to a parent","parameters":[{"name":"parentId","required":true,"in":"path","description":"ID of the parent","schema":{"type":"number"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/AssignChildrenToParentDto"}}}},"responses":{"201":{"description":"Children successfully assigned"}},"tags":["Parents"]},"get":{"operationId":"getChildrenByParent","summary":"Get all children of a parent","parameters":[{"name":"parentId","required":true,"in":"path","description":"ID of the parent","schema":{"type":"number"}}],"responses":{"200":{"description":"List of children for the parent","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/StudentEntity"}}}}}},"tags":["Parents"]}},"/users/students/{studentId}/parents":{"get":{"operationId":"getParentsByStudent","summary":"Get all parents of a student","parameters":[{"name":"studentId","required":true,"in":"path","description":"ID of the student","schema":{"type":"number"}}],"responses":{"200":{"description":"List of parents for the student","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/ParentEntity"}}}}}},"tags":["Parents"]}},"/users":{"get":{"operationId":"findAll","summary":"Get all users (Admin only)","parameters":[{"name":"page","required":false,"in":"query","schema":{"default":1,"type":"number"}},{"name":"limit","required":false,"in":"query","schema":{"default":10,"type":"number"}},{"required":false,"name":"page","in":"query","schema":{"default":1,"type":"number"}},{"required":false,"name":"limit","in":"query","schema":{"default":10,"type":"number"}}],"responses":{"200":{"description":"Returns all users","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/UserEntity"}}}}}},"security":[{"JWT-auth":[]}],"tags":["Users"]}},"/users/profile":{"get":{"operationId":"getProfile","summary":"Get current user profile","parameters":[],"responses":{"200":{"description":"Returns the current user profile","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserEntity"}}}}},"security":[{"JWT-auth":[]}],"tags":["Users"]},"put":{"operationId":"updateProfile","summary":"Update current user profile","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateUserDto"}}}},"responses":{"200":{"description":"User has been successfully updated","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserEntity"}}}}},"security":[{"JWT-auth":[]}],"tags":["Users"]}},"/users/{id}":{"get":{"operationId":"findOne","summary":"Get user by ID","parameters":[{"name":"id","required":true,"in":"path","description":"User ID","schema":{"type":"number"}}],"responses":{"200":{"description":"Returns the user with the specified ID","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserEntity"}}}},"404":{"description":"User not found"}},"security":[{"JWT-auth":[]}],"tags":["Users"]},"put":{"operationId":"update","summary":"Update user","parameters":[{"name":"id","required":true,"in":"path","description":"User ID","schema":{"type":"number"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateUserDto"}}}},"responses":{"200":{"description":"User has been successfully updated","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserEntity"}}}},"404":{"description":"User not found"}},"security":[{"JWT-auth":[]}],"tags":["Users"]},"delete":{"operationId":"remove","summary":"Delete user","parameters":[{"name":"id","required":true,"in":"path","description":"User ID","schema":{"type":"number"}}],"responses":{"200":{"description":"User has been successfully deleted"},"404":{"description":"User not found"}},"security":[{"JWT-auth":[]}],"tags":["Users"]}},"/courses":{"post":{"operationId":"create","summary":"Create a new course","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateCourseDto"}}}},"responses":{"201":{"description":"The course has been successfully created.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CourseEntity"}}}},"400":{"description":"Bad Request."}},"tags":["Courses"]},"get":{"operationId":"findAll","summary":"Get all courses","parameters":[],"responses":{"200":{"description":"Returns all courses","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/CourseEntity"}}}}}},"tags":["Courses"]}},"/courses/search":{"get":{"operationId":"search","summary":"Search for courses by name","parameters":[{"name":"name","required":true,"in":"query","description":"The name of the course to search for","schema":{"type":"string"}}],"responses":{"200":{"description":"Returns courses matching the search term","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/CourseEntity"}}}}}},"tags":["Courses"]}},"/courses/filter":{"get":{"operationId":"filter","summary":"Filter courses by age range, medium, and course name with pagination","parameters":[{"name":"ageRange","required":false,"in":"query","description":"Age range to filter by, or \"all\" for any","schema":{"type":"string"}},{"name":"medium","required":false,"in":"query","description":"Medium to filter by, or \"all\" for any","schema":{"type":"string"}},{"name":"query","required":false,"in":"query","description":"Course name to search for (partial match)","schema":{"type":"string"}},{"name":"page","required":false,"in":"query","description":"Page number for pagination","schema":{"type":"number"}},{"name":"limit","required":false,"in":"query","description":"Number of items per page","schema":{"type":"number"}}],"responses":{"200":{"description":"Returns courses matching the filter with pagination","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PaginatedCourseResponseDto"}}}}},"tags":["Courses"]}},"/courses/{id}":{"get":{"operationId":"findOne","summary":"Get a course by ID","parameters":[{"name":"id","required":true,"in":"path","description":"The ID of the course","schema":{"type":"number"}}],"responses":{"200":{"description":"Returns the course with the specified ID","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CourseEntity"}}}},"404":{"description":"Course not found"}},"tags":["Courses"]},"patch":{"operationId":"update","summary":"Update a course","parameters":[{"name":"id","required":true,"in":"path","description":"The ID of the course","schema":{"type":"number"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateCourseDto"}}}},"responses":{"200":{"description":"The course has been successfully updated.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CourseEntity"}}}},"404":{"description":"Course not found"}},"tags":["Courses"]},"delete":{"operationId":"remove","summary":"Delete a course","parameters":[{"name":"id","required":true,"in":"path","description":"The ID of the course","schema":{"type":"number"}}],"responses":{"200":{"description":"The course has been successfully deleted."},"404":{"description":"Course not found"}},"tags":["Courses"]}},"/schedules":{"post":{"operationId":"create","summary":"Create a new schedule","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateScheduleDto"}}}},"responses":{"201":{"description":"The schedule has been successfully created.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Schedule"}}}},"400":{"description":"Bad Request."}},"tags":["Schedules"]},"get":{"operationId":"findAll","summary":"Get all schedules","parameters":[],"responses":{"200":{"description":"List of all schedules","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/Schedule"}}}}}},"tags":["Schedules"]}},"/schedules/bulk":{"post":{"operationId":"createBulkSchedules","summary":"Create multiple class schedules","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/CreateScheduleDto"}}}}},"responses":{"201":{"description":"Schedules created"}},"tags":["Schedules"]}},"/schedules/filter":{"get":{"operationId":"getSchedulesByDateRange","summary":"Get schedules within a date range","parameters":[{"name":"startDate","required":false,"in":"query","schema":{"type":"string"}},{"name":"endDate","required":false,"in":"query","schema":{"type":"string"}},{"name":"studentName","required":false,"in":"query","schema":{"type":"string"}},{"name":"teacherName","required":false,"in":"query","schema":{"type":"string"}},{"name":"courseName","required":false,"in":"query","schema":{"type":"string"}},{"name":"attendanceStatus","required":false,"in":"query","schema":{"type":"string"}},{"name":"classStatus","required":false,"in":"query","schema":{"type":"string"}},{"name":"room","required":false,"in":"query","schema":{"type":"string"}},{"name":"sort","required":false,"in":"query","description":"Sort order (e.g., date_asc, date_desc, student_asc, etc.)","schema":{"type":"string"}},{"name":"page","required":false,"in":"query","description":"Page number for pagination","schema":{"default":1,"example":1,"type":"number"}},{"name":"pageSize","required":false,"in":"query","description":"Page size for pagination","schema":{"default":20,"type":"number"}},{"name":"limit","required":false,"in":"query","description":"Limit (alias for pageSize) for pagination","schema":{"default":10,"example":10,"type":"number"}}],"responses":{"200":{"description":"Paginated schedules with metadata","content":{"application/json":{"schema":{"type":"object","properties":{"schedules":{"type":"array","items":{"$ref":"#/components/schemas/Schedule"}},"pagination":{"type":"object","properties":{"currentPage":{"type":"number"},"totalPages":{"type":"number"},"totalCount":{"type":"number"},"hasNext":{"type":"boolean"},"hasPrev":{"type":"boolean"}}}}}}}}},"tags":["Schedules"]}},"/schedules/today":{"get":{"operationId":"getTodaySchedules","summary":"Get today's schedule grouped by course","parameters":[],"responses":{"200":{"description":"Todays schedules","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/Schedule"}}}}}},"tags":["Schedules"]}},"/schedules/teacher/{teacherId}":{"get":{"operationId":"getSchedulesForTeacher","summary":"Get a teacher's schedules","parameters":[{"name":"teacherId","required":true,"in":"path","schema":{"type":"number"}}],"responses":{"200":{"description":"The teacher's schedules","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/Schedule"}}}}}},"tags":["Schedules"]}},"/schedules/session/{sessionId}/student/{studentId}":{"get":{"operationId":"getSchedulesByStudentAndSession","summary":"Get schedules by session and student","parameters":[{"name":"sessionId","required":true,"in":"path","schema":{"type":"number"}},{"name":"studentId","required":true,"in":"path","schema":{"type":"number"}}],"responses":{"200":{"description":"Schedules matching session and student","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/Schedule"}}}}}},"tags":["Schedules"]}},"/schedules/{id}":{"get":{"operationId":"findOne","summary":"Get a schedule by ID","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"number"}}],"responses":{"200":{"description":"The found schedule","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Schedule"}}}},"404":{"description":"Schedule not found"}},"tags":["Schedules"]},"patch":{"operationId":"update","summary":"Update a schedule","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"number"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateScheduleDto"}}}},"responses":{"200":{"description":"The schedule has been successfully updated.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Schedule"}}}},"404":{"description":"Schedule not found"}},"tags":["Schedules"]},"delete":{"operationId":"remove","summary":"Delete a schedule","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"number"}}],"responses":{"200":{"description":"The schedule has been successfully deleted."},"404":{"description":"Schedule not found"}},"tags":["Schedules"]}},"/schedules/conflict":{"post":{"operationId":"checkConflict","summary":"Check for room/time conflict","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CheckScheduleConflictDto"}}}},"responses":{"200":{"description":"Conflicting schedules (if any)"}},"tags":["Schedules"]}},"/schedules/conflicts":{"post":{"operationId":"checkScheduleConflicts","summary":"Batch check for schedule conflicts","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CheckConflictBatchDto"}}}},"responses":{"201":{"description":""}},"tags":["Schedules"]}},"/schedules/preview":{"post":{"operationId":"previewSchedules","summary":"Preview schedules and check for conflicts before final submission","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/CreateScheduleDto"}}}}},"responses":{"200":{"description":"Preview of schedules and any conflicts"}},"tags":["Schedules"]}},"/rooms":{"post":{"operationId":"create","summary":"Create a new room","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateRoomDto"}}}},"responses":{"201":{"description":"The room has been successfully created.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/RoomEntity"}}}},"400":{"description":"Bad Request."}},"tags":["Rooms"]},"get":{"operationId":"findAll","summary":"Get all rooms","parameters":[],"responses":{"200":{"description":"Returns all rooms","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/RoomEntity"}}}}}},"tags":["Rooms"]}},"/rooms/{id}":{"get":{"operationId":"findOne","summary":"Get a room by ID","parameters":[{"name":"id","required":true,"in":"path","description":"The ID of the room","schema":{"type":"number"}}],"responses":{"200":{"description":"Returns the room with the specified ID","content":{"application/json":{"schema":{"$ref":"#/components/schemas/RoomEntity"}}}},"404":{"description":"Room not found"}},"tags":["Rooms"]},"patch":{"operationId":"update","summary":"Update a room","parameters":[{"name":"id","required":true,"in":"path","description":"The ID of the room","schema":{"type":"number"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateRoomDto"}}}},"responses":{"200":{"description":"The room has been successfully updated.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/RoomEntity"}}}},"404":{"description":"Room not found"}},"tags":["Rooms"]},"delete":{"operationId":"remove","summary":"Delete a room","parameters":[{"name":"id","required":true,"in":"path","description":"The ID of the room","schema":{"type":"number"}}],"responses":{"200":{"description":"The room has been successfully deleted."},"404":{"description":"Room not found"}},"tags":["Rooms"]}},"/discounts":{"post":{"operationId":"create","summary":"Create a new discount","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateDiscountDto"}}}},"responses":{"201":{"description":"The discount has been successfully created.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/DiscountEntity"}}}},"400":{"description":"Bad Request."}},"tags":["Discounts"]},"get":{"operationId":"findAll","summary":"Get all discounts","parameters":[],"responses":{"200":{"description":"Returns all discounts","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/DiscountEntity"}}}}}},"tags":["Discounts"]}},"/discounts/search/{name}":{"get":{"operationId":"findOne","summary":"Get a discount by name","parameters":[{"name":"name","required":true,"in":"path","description":"The name of the discount","schema":{"type":"string"}}],"responses":{"200":{"description":"Returns the discount with the specified name","content":{"application/json":{"schema":{"$ref":"#/components/schemas/DiscountEntity"}}}},"404":{"description":"Discount not found"}},"tags":["Discounts"]}},"/discounts/{id}":{"patch":{"operationId":"update","summary":"Update a discount","parameters":[{"name":"id","required":true,"in":"path","description":"The ID of the discount","schema":{"type":"number"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateDiscountDto"}}}},"responses":{"200":{"description":"The discount has been successfully updated.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/DiscountEntity"}}}},"404":{"description":"Discount not found"}},"tags":["Discounts"]},"delete":{"operationId":"remove","summary":"Delete a discount","parameters":[{"name":"id","required":true,"in":"path","description":"The ID of the discount","schema":{"type":"number"}}],"responses":{"200":{"description":"The discount has been successfully deleted."},"404":{"description":"Discount not found"}},"tags":["Discounts"]}},"/sessions":{"post":{"operationId":"create","summary":"Create a new session","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateSessionDto"}}}},"responses":{"201":{"description":"The session has been successfully created.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Session"}}}},"400":{"description":"Bad Request."}},"tags":["Sessions"]},"get":{"operationId":"findAll","summary":"Get all sessions","parameters":[],"responses":{"200":{"description":"List of all sessions","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/Session"}}}}}},"tags":["Sessions"]}},"/sessions/overview/{studentId}":{"get":{"operationId":"getStudentSessionOverview","summary":"Get a student's session overview","parameters":[{"name":"studentId","required":true,"in":"path","schema":{"type":"number"}}],"responses":{"200":{"description":"The student's session overview"}},"tags":["Sessions"]}},"/sessions/student/{studentId}":{"get":{"operationId":"getStudentSessions","summary":"Get all of a student's sessions","parameters":[{"name":"studentId","required":true,"in":"path","schema":{"type":"number"}}],"responses":{"200":{"description":"The student's sessions","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/Session"}}}}}},"tags":["Sessions"]}},"/sessions/student/{studentId}/filtered":{"get":{"operationId":"getStudentSessionsFiltered","summary":"Get filtered student sessions with pagination","parameters":[{"name":"studentId","required":true,"in":"path","schema":{"type":"number"}},{"name":"courseName","required":false,"in":"query","description":"Filter by course name","schema":{"example":"Mathematics","type":"string"}},{"name":"status","required":false,"in":"query","description":"Filter by status (completed/wip)","schema":{"example":"completed","enum":["completed","wip"],"type":"string"}},{"name":"payment","required":false,"in":"query","description":"Filter by payment status (paid/unpaid)","schema":{"example":"paid","enum":["paid","unpaid"],"type":"string"}},{"name":"page","required":false,"in":"query","description":"Page number (default: 1)","schema":{"minimum":1,"default":1,"type":"number"}},{"name":"limit","required":false,"in":"query","description":"Items per page (default: 12)","schema":{"minimum":1,"default":12,"type":"number"}}],"responses":{"200":{"description":"Filtered student sessions with pagination","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PaginatedSessionOverviewResponseDto"}}}}},"tags":["Sessions"]}},"/sessions/student/{studentId}/course/{courseId}":{"get":{"operationId":"getStudentSessionByCourse","summary":"Get a student's session by course","parameters":[{"name":"studentId","required":true,"in":"path","schema":{"type":"number"}},{"name":"courseId","required":true,"in":"path","schema":{"type":"number"}}],"responses":{"200":{"description":"The student's session for a specific course","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Session"}}}}},"tags":["Sessions"]}},"/sessions/class-options":{"post":{"operationId":"createClassOption","summary":"Create a new class option","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateClassOptionDto"}}}},"responses":{"201":{"description":"The class option has been successfully created."}},"tags":["Class Options"]},"get":{"operationId":"listClassOptions","summary":"Get all class options","parameters":[],"responses":{"200":{"description":"Returns all class options"}},"tags":["Class Options"]}},"/sessions/pending-invoice":{"get":{"operationId":"getPendingSessionsForInvoice","summary":"Get sessions pending invoice with filtering and pagination","parameters":[{"name":"date","required":false,"in":"query","description":"Filter by creation date (YYYY-MM-DD format)","schema":{"type":"string"}},{"name":"status","required":false,"in":"query","description":"Filter by status (pending/completed)","schema":{"type":"string"}},{"name":"course","required":false,"in":"query","description":"Filter by course name","schema":{"type":"string"}},{"name":"teacher","required":false,"in":"query","description":"Filter by teacher name","schema":{"type":"string"}},{"name":"student","required":false,"in":"query","description":"Filter by student name","schema":{"type":"string"}},{"name":"page","required":false,"in":"query","description":"Page number (default: 1)","schema":{"type":"number"}},{"name":"limit","required":false,"in":"query","description":"Items per page (default: 10)","schema":{"type":"number"}}],"responses":{"200":{"description":"List of sessions pending invoice with pagination","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PaginatedSessionResponseDto"}}}}},"tags":["Invoices"]}},"/sessions/pending-invoice/{sessionId}":{"get":{"operationId":"getSpecificPendingSessionsForInvoice","summary":"Get a specific session pending invoice","parameters":[{"name":"sessionId","required":true,"in":"path","schema":{"type":"number"}}],"responses":{"200":{"description":"The session pending invoice","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Session"}}}}},"tags":["Invoices"]}},"/sessions/invoices":{"post":{"operationId":"createInvoice","summary":"Create a new invoice and mark session as invoiced (atomic)","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateInvoiceDto"}}}},"responses":{"201":{"description":"The invoice has been successfully created and the session marked as invoiced."},"400":{"description":"Bad Request."}},"tags":["Invoices"]},"get":{"operationId":"getInvoices","summary":"List all invoices (paginated, filterable)","parameters":[{"name":"page","required":false,"in":"query","schema":{"type":"number"}},{"name":"limit","required":false,"in":"query","schema":{"type":"number"}},{"name":"documentId","required":false,"in":"query","schema":{"type":"string"}},{"name":"student","required":false,"in":"query","schema":{"type":"string"}},{"name":"course","required":false,"in":"query","schema":{"type":"string"}},{"name":"receiptDone","required":false,"in":"query","schema":{"type":"boolean"}}],"responses":{"200":{"description":"Paginated, filterable list of invoices","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PaginatedInvoiceResponseDto"}}}}},"tags":["Invoices"]}},"/sessions/invoices/{id}":{"get":{"operationId":"getInvoice","summary":"Get an invoice by ID","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"number"}}],"responses":{"200":{"description":"The found invoice","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Session"}}}},"404":{"description":"Invoice not found"}},"tags":["Invoices"]}},"/sessions/receipts":{"post":{"operationId":"createReceipt","summary":"Create a new receipt, mark session as paid, and mark invoice as receipt done (atomic)","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateReceiptDto"}}}},"responses":{"201":{"description":"The receipt has been successfully created, the session marked as paid, and the invoice marked as receipt done."},"400":{"description":"Bad Request."}},"tags":["Receipts"]},"get":{"operationId":"getReceipts","summary":"List all receipts (paginated, filterable)","parameters":[{"name":"page","required":false,"in":"query","schema":{"default":1,"type":"number"}},{"name":"limit","required":false,"in":"query","schema":{"default":10,"type":"number"}},{"name":"from","required":false,"in":"query","description":"Start date (YYYY-MM-DD)","schema":{"type":"string"}},{"name":"to","required":false,"in":"query","description":"End date (YYYY-MM-DD)","schema":{"type":"string"}},{"name":"invoiceId","required":false,"in":"query","schema":{"type":"number"}},{"name":"sessionId","required":false,"in":"query","schema":{"type":"number"}},{"name":"studentId","required":false,"in":"query","schema":{"type":"number"}},{"name":"courseId","required":false,"in":"query","schema":{"type":"number"}},{"name":"receiptNumber","required":false,"in":"query","schema":{"type":"string"}}],"responses":{"200":{"description":"Paginated, filterable list of receipts"}},"tags":["Receipts"]}},"/sessions/receipts/{id}":{"get":{"operationId":"getReceipt","summary":"Get a receipt by ID","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"number"}}],"responses":{"200":{"description":"The found receipt","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Session"}}}},"404":{"description":"Receipt not found"}},"tags":["Receipts"]}},"/sessions/{id}":{"get":{"operationId":"findOne","summary":"Get a session by ID","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"number"}}],"responses":{"200":{"description":"The found session","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Session"}}}},"404":{"description":"Session not found"}},"tags":["Sessions"]},"patch":{"operationId":"update","summary":"Update a session","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"number"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateSessionDto"}}}},"responses":{"200":{"description":"The session has been successfully updated.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Session"}}}},"404":{"description":"Session not found"}},"tags":["Sessions"]},"delete":{"operationId":"remove","summary":"Delete a session","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"number"}}],"responses":{"200":{"description":"The session has been successfully deleted."},"404":{"description":"Session not found"}},"tags":["Sessions"]}},"/course-plus":{"post":{"operationId":"create","summary":"Create a new CoursePlus and associated schedules","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateCoursePlusDto"}}}},"responses":{"201":{"description":"The CoursePlus and schedules have been successfully created."}},"tags":["CoursePlus"]},"get":{"operationId":"findAll","summary":"Get all CoursePlus records","parameters":[],"responses":{"200":{"description":"List of all CoursePlus records"}},"tags":["CoursePlus"]}},"/course-plus/{id}":{"get":{"operationId":"findOne","summary":"Get a CoursePlus by ID","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":"The found CoursePlus"}},"tags":["CoursePlus"]},"patch":{"operationId":"update","summary":"Update a CoursePlus by ID","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateCoursePlusDto"}}}},"responses":{"200":{"description":"The CoursePlus has been successfully updated."}},"tags":["CoursePlus"]},"delete":{"operationId":"remove","summary":"Delete a CoursePlus by ID","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":"The CoursePlus has been successfully deleted."}},"tags":["CoursePlus"]}}},"info":{"title":"KDL API Documentation","description":"","version":"1.0.0","contact":{"name":"KDL Team","url":"https://github.com/NoelPOS","email":"u6530183@au.edu"}},"tags":[{"name":"Authentication","description":"User authentication and authorization endpoints"},{"name":"Users","description":"User management endpoints"}],"servers":[{"url":"http://localhost:3001","description":"Local Development"},{"url":"https://kdl-backend.onrender.com","description":"Production Server"}],"components":{"securitySchemes":{"JWT-auth":{"scheme":"bearer","bearerFormat":"JWT","type":"http","name":"JWT","description":"Enter JWT token","in":"header"}},"schemas":{"RegisterDto":{"type":"object","properties":{"email":{"type":"string","description":"User email address","example":"user@example.com"},"userName":{"type":"string","description":"Username for the user","example":"user123","maxLength":30,"minLength":3},"password":{"type":"string","description":"Password for the user","example":"StrongPassword123!","minLength":8,"maxLength":50}},"required":["email","userName","password"]},"Token":{"type":"object","properties":{}},"UserEntity":{"type":"object","properties":{"id":{"type":"number","description":"Unique identifier"},"createdAt":{"format":"date-time","type":"string","description":"Creation timestamp"},"updatedAt":{"format":"date-time","type":"string","description":"Last update timestamp"},"userName":{"type":"string","example":"janedoe","description":"Username for login and identification"},"email":{"type":"string","example":"jane_doe@example.com","description":"Email address of the user"},"password":{"type":"string","example":"Password123!","description":"User password (hashed when stored)"},"role":{"type":"string","description":"User role for authorization","enum":["user","admin"],"default":"user"},"refreshToken":{"type":"string","description":"Refresh token for JWT authentication"},"isVerified":{"type":"boolean","description":"Indicates whether the user has verified their email","default":false},"tokens":{"description":"Tokens associated with the user","type":"array","items":{"$ref":"#/components/schemas/Token"}}},"required":["id","createdAt","updatedAt","userName","email","password","role","isVerified"]},"VerifyEmailDto":{"type":"object","properties":{"email":{"type":"string","description":"User email address","example":"user@example.com"},"verificationCode":{"type":"string","description":"One-time verification code","example":"123456"}},"required":["email","verificationCode"]},"LoginDto":{"type":"object","properties":{"email":{"type":"string","description":"email should be a valid email","example":"test@example.com","format":"email","minLength":3,"maxLength":50},"password":{"type":"string","description":"password should be at least 6 characters","minimum":6,"maximum":30}},"required":["email","password"]},"TokenDto":{"type":"object","properties":{"accessToken":{"type":"string","description":"JWT Access Token","example":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9..."},"refreshToken":{"type":"string","description":"JWT Refresh Token","example":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9..."}},"required":["accessToken","refreshToken"]},"ForgotPasswordDto":{"type":"object","properties":{"email":{"type":"string","description":"The email address to send the password reset link to","example":"user@example.com"}},"required":["email"]},"ResetPasswordDto":{"type":"object","properties":{"email":{"type":"string","description":"User email address","example":"user@example.com"},"verificationCode":{"type":"string","description":"The verification code sent to the user email","example":"123456"},"newPassword":{"type":"string","description":"The new password for the user","example":"NewStrongPassword123!","minLength":8}},"required":["email","verificationCode","newPassword"]},"RefreshTokenDto":{"type":"object","properties":{"refreshToken":{"type":"string","description":"Refresh token","example":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9..."}},"required":["refreshToken"]},"CreateStudentDto":{"type":"object","properties":{"name":{"type":"string","example":"John Doe","description":"Full name of the student"},"nickname":{"type":"string","example":"Johnny","description":"Nickname of the student"},"dob":{"type":"string","example":"2005-05-15","description":"Date of birth of the student in YYYY-MM-DD format"},"gender":{"type":"string","example":"male","description":"Gender of the student"},"school":{"type":"string","example":"Springfield High","description":"School of the student"},"allergic":{"example":["Peanuts","Shellfish"],"description":"List of allergies the student has","type":"array","items":{"type":"string"}},"doNotEat":{"example":["Pork","Beef"],"description":"List of foods the student does not eat","type":"array","items":{"type":"string"}},"adConcent":{"type":"boolean","example":true,"description":"Indicates if the student has ad concentration consent"},"parent":{"type":"string","example":"Jane Doe","description":"Parent's name of the student"},"phone":{"type":"string","example":"+1234567890","description":"Phone number of the student"},"profilePicture":{"type":"string","example":"https://images.unsplash.com/photo-1494790108377-be9c29b29330?q=80&w=1974&auto=format&fit=crop&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D","description":"URL of the student's profile picture"}},"required":["name","nickname","dob","gender","school","allergic","doNotEat","adConcent","parent","phone","profilePicture"]},"StudentEntity":{"type":"object","properties":{"id":{"type":"number","description":"Unique identifier"},"createdAt":{"format":"date-time","type":"string","description":"Creation timestamp"},"name":{"type":"string","description":"Student name"},"nickname":{"type":"string","description":"Student nickname"},"dob":{"type":"string","description":"Student date of birth"},"gender":{"type":"string","description":"Student gender"},"school":{"type":"string","description":"Student school"},"allergic":{"description":"Student allergic","type":"array","items":{"type":"string"}},"doNotEat":{"description":"Student do not eat","type":"array","items":{"type":"string"}},"adConcent":{"type":"boolean","description":"Student ad concentrate"},"phone":{"type":"string","description":"Student phone number"},"profilePicture":{"type":"string","description":"Profile picture URL"}},"required":["id","createdAt","name","nickname","dob","gender","school","allergic","doNotEat","adConcent","phone","profilePicture"]},"UpdateStudentDto":{"type":"object","properties":{"name":{"type":"string","example":"John Doe","description":"Full name of the student"},"nickname":{"type":"string","example":"Johnny","description":"Nickname of the student"},"dob":{"type":"string","example":"2005-05-15","description":"Date of birth of the student in YYYY-MM-DD format"},"gender":{"type":"string","example":"male","description":"Gender of the student"},"school":{"type":"string","example":"Springfield High","description":"School of the student"},"allergic":{"example":["Peanuts","Shellfish"],"description":"List of allergies the student has","type":"array","items":{"type":"string"}},"doNotEat":{"example":["Pork","Beef"],"description":"List of foods the student does not eat","type":"array","items":{"type":"string"}},"adConcent":{"type":"boolean","example":true,"description":"Indicates if the student has ad concentration consent"},"parent":{"type":"string","example":"Jane Doe","description":"Parent's name of the student"},"phone":{"type":"string","example":"+1234567890","description":"Phone number of the student"},"profilePicture":{"type":"string","example":"https://images.unsplash.com/photo-1494790108377-be9c29b29330?q=80&w=1974&auto=format&fit=crop&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D","description":"URL of the student's profile picture"}}},"CreateTeacherDto":{"type":"object","properties":{"name":{"type":"string","example":"Teacher1","description":"Teacher name"},"email":{"type":"string","example":"teacher@gmail.com","description":"Teacher email"},"contactNo":{"type":"string","example":"+1234567890","description":"Teacher contact number"},"lineId":{"type":"string","example":"teacher_line_id","description":"Teacher line ID"},"address":{"type":"string","example":"123 Main St, City, Country","description":"Teacher address"},"profilePicture":{"type":"string","example":"https://example.com","description":"Teacher profile picture"}},"required":["name","email","contactNo","address","profilePicture"]},"TeacherEntity":{"type":"object","properties":{"id":{"type":"number","description":"Unique identifier"},"createdAt":{"format":"date-time","type":"string","description":"Creation timestamp"},"name":{"type":"string","description":"Teacher name"},"email":{"type":"string","description":"Teacher email"},"contactNo":{"type":"string","description":"Teacher contact number"},"lineId":{"type":"string","description":"Teacher line id"},"address":{"type":"string","description":"Teacher address"},"profilePicture":{"type":"string","description":"Teacher profile picture"}},"required":["id","createdAt","name","email","contactNo","lineId","address","profilePicture"]},"CourseEntity":{"type":"object","properties":{"id":{"type":"number","description":"Unique identifier"},"createdAt":{"format":"date-time","type":"string","description":"Creation timestamp"},"title":{"type":"string","description":"Course title"},"description":{"type":"string","description":"Course description"},"ageRange":{"type":"string","description":"Course age range"},"medium":{"type":"string","description":"Course learning medium"}},"required":["id","createdAt","title","description","ageRange","medium"]},"AssignCoursesToTeacherDto":{"type":"object","properties":{"courseIds":{"example":[1,2,3],"description":"Array of course IDs","type":"array","items":{"type":"string"}}},"required":["courseIds"]},"PaginationMetadata":{"type":"object","properties":{"currentPage":{"type":"number","description":"Current page number"},"totalPages":{"type":"number","description":"Total number of pages"},"totalCount":{"type":"number","description":"Total number of items"},"hasNext":{"type":"boolean","description":"Whether there is a next page"},"hasPrev":{"type":"boolean","description":"Whether there is a previous page"}},"required":["currentPage","totalPages","totalCount","hasNext","hasPrev"]},"PaginatedTeacherResponseDto":{"type":"object","properties":{"teachers":{"description":"Array of teachers","type":"array","items":{"$ref":"#/components/schemas/TeacherEntity"}},"pagination":{"description":"Pagination metadata","allOf":[{"$ref":"#/components/schemas/PaginationMetadata"}]}},"required":["teachers","pagination"]},"ParentEntity":{"type":"object","properties":{"id":{"type":"number","description":"Unique identifier"},"createdAt":{"format":"date-time","type":"string","description":"Creation timestamp"},"name":{"type":"string","description":"Parent name"},"email":{"type":"string","description":"Parent email"},"contactNo":{"type":"string","description":"Parent contact number"},"lineId":{"type":"string","description":"Parent line id"},"address":{"type":"string","description":"Parent address"}},"required":["id","createdAt","name","email","contactNo","lineId","address"]},"PaginatedParentResponseDto":{"type":"object","properties":{"parents":{"description":"Array of parents","type":"array","items":{"$ref":"#/components/schemas/ParentEntity"}},"pagination":{"description":"Pagination metadata","allOf":[{"$ref":"#/components/schemas/PaginationMetadata"}]}},"required":["parents","pagination"]},"CreateParentDto":{"type":"object","properties":{"name":{"type":"string","example":"Parent1","description":"Parent name"},"email":{"type":"string","example":"Parent@gmail.com","description":"Parent email"},"contactNo":{"type":"string","example":"+1234567890","description":"Parent contact number"},"lineId":{"type":"string","example":"Parent_line_id","description":"Parent line ID"},"address":{"type":"string","example":"123 Main St, City, Country","description":"Parent address"},"profilePicture":{"type":"string","example":"https://example.com","description":"Parent profile picture"}},"required":["name","email","contactNo","address","profilePicture"]},"AssignChildrenToParentDto":{"type":"object","properties":{"studentIds":{"description":"Array of student IDs to assign as children","example":[1,2,3],"type":"array","items":{"type":"number"}}},"required":["studentIds"]},"UpdateUserDto":{"type":"object","properties":{"email":{"type":"string","example":"jane_doe@example.com","description":"User email address"},"userName":{"type":"string","example":"janedoe","description":"Username for the account"},"password":{"type":"string","example":"StrongPassword123!","description":"User password (8-50 characters)"}}},"CreateCourseDto":{"type":"object","properties":{"title":{"type":"string","example":"Introduction to Programming","description":"Title of the course"},"description":{"type":"string","example":"A beginner-friendly course on programming concepts.","description":"Description of the course"},"ageRange":{"type":"string","example":"10-15","description":"Age range suitable for the course"},"medium":{"type":"string","example":"Online","description":"Medium of the course delivery"}},"required":["title","description","ageRange","medium"]},"PaginatedCourseResponseDto":{"type":"object","properties":{"courses":{"description":"Array of courses","type":"array","items":{"$ref":"#/components/schemas/CourseEntity"}},"pagination":{"description":"Pagination metadata","allOf":[{"$ref":"#/components/schemas/PaginationMetadata"}]}},"required":["courses","pagination"]},"UpdateCourseDto":{"type":"object","properties":{"title":{"type":"string","example":"Introduction to Programming","description":"Title of the course"},"description":{"type":"string","example":"A beginner-friendly course on programming concepts.","description":"Description of the course"},"ageRange":{"type":"string","example":"10-15","description":"Age range suitable for the course"},"medium":{"type":"string","example":"Online","description":"Medium of the course delivery"}}},"CreateScheduleDto":{"type":"object","properties":{"sessionId":{"type":"number"},"courseId":{"type":"number"},"studentId":{"type":"number"},"teacherId":{"type":"number"},"date":{"type":"string"},"startTime":{"type":"string"},"endTime":{"type":"string"},"room":{"type":"string"},"attendance":{"type":"string"},"remark":{"type":"string"},"feedback":{"type":"string"},"verifyFb":{"type":"boolean"},"classNumber":{"type":"number"}},"required":["sessionId","courseId","studentId","teacherId","date","startTime","endTime","room","attendance","remark","feedback","verifyFb","classNumber"]},"Schedule":{"type":"object","properties":{"id":{"type":"number","description":"Unique identifier"},"createdAt":{"format":"date-time","type":"string","description":"Creation timestamp"},"sessionId":{"type":"number","description":"Session Id"},"courseId":{"type":"number","description":"Course id"},"studentId":{"type":"number","description":"Student id"},"teacherId":{"type":"number","description":"Teacher id"},"date":{"format":"date-time","type":"string","description":"Date"},"startTime":{"type":"string","description":"Start time"},"endTime":{"type":"string","description":"End time"},"room":{"type":"string","description":"Room"},"attendance":{"type":"string","description":"Attendance"},"remark":{"type":"string","description":"Remark"},"warning":{"type":"string","description":"Warning message"},"feedback":{"type":"string","description":"Feedback"},"verifyFb":{"type":"boolean","description":"Verify feedback"},"classNumber":{"type":"number","description":"Class number"},"coursePlusId":{"type":"number","description":"Course plus id"}},"required":["id","createdAt","sessionId","courseId","studentId","teacherId","date","startTime","endTime","room","attendance","remark","warning","feedback","verifyFb"]},"UpdateScheduleDto":{"type":"object","properties":{"attendance":{"type":"string"},"remark":{"type":"string"},"feedback":{"type":"string"},"verifyFb":{"type":"boolean"},"date":{"type":"string"},"startTime":{"type":"string"},"endTime":{"type":"string"},"room":{"type":"string"},"teacherId":{"type":"number"},"teacherName":{"type":"string"},"studentName":{"type":"string"},"nickname":{"type":"string"},"courseName":{"type":"string"},"warning":{"type":"string"}}},"CheckScheduleConflictDto":{"type":"object","properties":{"date":{"type":"string"},"startTime":{"type":"string"},"endTime":{"type":"string"},"room":{"type":"string"},"teacherId":{"type":"number"},"studentId":{"type":"number"},"courseTitle":{"type":"string"},"excludeId":{"type":"number"}},"required":["date","startTime","endTime","room","teacherId","studentId","courseTitle"]},"CheckConflictBatchDto":{"type":"object","properties":{"schedules":{"type":"array","items":{"$ref":"#/components/schemas/CheckScheduleConflictDto"}}},"required":["schedules"]},"CreateRoomDto":{"type":"object","properties":{"name":{"type":"string","example":"Main Conference Room","description":"Name of the room"}},"required":["name"]},"RoomEntity":{"type":"object","properties":{}},"UpdateRoomDto":{"type":"object","properties":{"name":{"type":"string","example":"Main Conference Room","description":"Name of the room"}}},"CreateDiscountDto":{"type":"object","properties":{"title":{"type":"string","example":"Summer Sale","description":"Title of the discount"},"usage":{"type":"string","example":"admission","description":"Usage category like \"admission\" or \"promotion\""},"amount":{"type":"number","example":2000,"description":"The discount amount"}},"required":["title","usage","amount"]},"DiscountEntity":{"type":"object","properties":{}},"UpdateDiscountDto":{"type":"object","properties":{"title":{"type":"string","example":"Summer Sale","description":"Title of the discount"},"usage":{"type":"string","example":"admission","description":"Usage category like \"admission\" or \"promotion\""},"amount":{"type":"number","example":2000,"description":"The discount amount"}}},"CreateSessionDto":{"type":"object","properties":{"studentId":{"type":"number"},"courseId":{"type":"number"},"classOptionId":{"type":"number"},"teacherId":{"type":"number"},"classCancel":{"type":"number"},"payment":{"type":"string"},"status":{"type":"string"}},"required":["studentId","courseId","classOptionId","teacherId","classCancel","payment","status"]},"Session":{"type":"object","properties":{"id":{"type":"number","description":"Unique identifier"},"studentId":{"type":"number","description":"Student id"},"courseId":{"type":"number","description":"Course id"},"classOptionId":{"type":"number","description":"courseOptionId"},"classCancel":{"type":"number","description":"Class cancel"},"payment":{"type":"string","description":"Payment"},"status":{"type":"string","description":"Status"},"teacherId":{"type":"number","description":"Teacher id"},"invoiceDone":{"type":"boolean","description":"Invoice done"},"createdAt":{"format":"date-time","type":"string","description":"Session creation date"}},"required":["id","studentId","courseId","classOptionId","classCancel","payment","status","teacherId","invoiceDone","createdAt"]},"SessionOverview":{"type":"object","properties":{"courseTitle":{"type":"string","description":"Course title","example":"Mathematics Advanced"},"mode":{"type":"string","description":"Class mode","example":"Group"},"completedCount":{"type":"number","description":"Number of completed classes","example":10},"classCancel":{"type":"number","description":"Number of cancelled classes","example":2},"progress":{"type":"string","description":"Progress percentage","example":"70%"},"sessionId":{"type":"number","description":"Session ID","example":123},"courseDescription":{"type":"string","description":"Course description","example":"Advanced mathematics course for students"},"payment":{"type":"string","description":"Payment status","example":"Paid"},"medium":{"type":"string","description":"Medium of instruction","example":"English"}},"required":["courseTitle","mode","completedCount","classCancel","progress","sessionId","courseDescription","payment","medium"]},"PaginatedSessionOverviewResponseDto":{"type":"object","properties":{"sessions":{"description":"Array of session overviews","type":"array","items":{"$ref":"#/components/schemas/SessionOverview"}},"pagination":{"description":"Pagination metadata","allOf":[{"$ref":"#/components/schemas/PaginationMetadata"}]}},"required":["sessions","pagination"]},"CreateClassOptionDto":{"type":"object","properties":{"classMode":{"type":"string","description":"Class mode"},"classLimit":{"type":"number","description":"Class limit"},"tuitionFee":{"type":"number","description":"Tuition fee"}},"required":["classMode","classLimit","tuitionFee"]},"PaginatedSessionResponseDto":{"type":"object","properties":{"enrollments":{"description":"Array of sessions/enrollments","type":"array","items":{"$ref":"#/components/schemas/Session"}},"pagination":{"description":"Pagination metadata","allOf":[{"$ref":"#/components/schemas/PaginationMetadata"}]}},"required":["enrollments","pagination"]},"InvoiceItemDto":{"type":"object","properties":{"description":{"type":"string"},"amount":{"type":"number"}},"required":["description","amount"]},"CreateInvoiceDto":{"type":"object","properties":{"sessionId":{"type":"number"},"documentId":{"type":"string"},"date":{"type":"string"},"paymentMethod":{"type":"string"},"totalAmount":{"type":"number"},"items":{"type":"array","items":{"$ref":"#/components/schemas/InvoiceItemDto"}}},"required":["sessionId","documentId","date","paymentMethod","totalAmount","items"]},"Invoice":{"type":"object","properties":{}},"PaginatedInvoiceResponseDto":{"type":"object","properties":{"invoices":{"description":"Array of invoices","type":"array","items":{"$ref":"#/components/schemas/Invoice"}},"pagination":{"description":"Pagination metadata","allOf":[{"$ref":"#/components/schemas/PaginationMetadata"}]}},"required":["invoices","pagination"]},"CreateReceiptDto":{"type":"object","properties":{"invoiceId":{"type":"number"},"date":{"type":"string"}},"required":["invoiceId","date"]},"UpdateSessionDto":{"type":"object","properties":{"studentId":{"type":"number"},"courseId":{"type":"number"},"classOptionId":{"type":"number"},"teacherId":{"type":"number"},"classCancel":{"type":"number"},"payment":{"type":"string"},"status":{"type":"string"}}},"CreateCoursePlusScheduleDto":{"type":"object","properties":{"date":{"type":"string","format":"date-time"},"startTime":{"type":"string"},"endTime":{"type":"string"},"teacherId":{"type":"number"},"room":{"type":"string"},"courseId":{"type":"number"},"studentId":{"type":"number"},"attendance":{"type":"string"},"remark":{"type":"string"},"warning":{"type":"string"},"feedback":{"type":"string"},"verifyFb":{"type":"boolean"},"classNumber":{"type":"number"}},"required":["date","startTime","endTime","teacherId","room","courseId","studentId"]},"CreateCoursePlusDto":{"type":"object","properties":{"sessionId":{"type":"number"},"classNo":{"type":"number"},"amount":{"type":"number"},"payment":{"type":"boolean"},"description":{"type":"string"},"schedules":{"type":"array","items":{"$ref":"#/components/schemas/CreateCoursePlusScheduleDto"}}},"required":["sessionId","classNo","amount","description","schedules"]},"UpdateCoursePlusDto":{"type":"object","properties":{"sessionId":{"type":"number"},"classNo":{"type":"number"},"amount":{"type":"number"},"payment":{"type":"boolean"},"description":{"type":"string"},"schedules":{"type":"array","items":{"$ref":"#/components/schemas/CreateCoursePlusScheduleDto"}}}}}}}